apiVersion: v1
kind: Secret
metadata:
  name: gitlab-oauth-secret
  namespace: gitlab
stringData:
  config: |
    name: "openid_connect"
    label: "Keycloak"
    args:
      name: "openid_connect"
      scope: ["openid","profile","email"]
      response_type: "code"
      issuer: https://auth.apps.ashman.world/realms/apps
      discovery: true
      client_auth_method: "query"
      uid_field: "preferred_username"
      client_options:
        identifier: "gitlab"
        secret: ""
        redirect_uri: "https://gitlab.apps.ashman.world/users/auth/openid_connect/callback"
        gitlab:
          groups_attribute: "groups"
          admin_groups: ["gitlab-admins"]
